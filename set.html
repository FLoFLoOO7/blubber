
<head>
  <link rel="stylesheet" href="set.css">
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>




<!-- HTML Teil Anfang -->


<body class="Background">
  <div id="app">
    
    
    <a href="input.html" @click="ReturnToMenu">
      <img class="Zahnrad" src="Zahnrad.png" alt="Return to menu">
    </a>
 
    <div class="SetName">{{ setName }} Setname Beispiel</div>

    <div class="Set">
      
      <div class="ButtonsAndCard">
        <div class="NichtErledigtCounter">{{ countNichtErledigt }} Zahl</div>
        <div class="NichtErledigtButton" @click="markAsNichtErledigt">ðŸŸ¥</div>

        <div class="Karteikarte" @click="flipCard">

            <!--   <p>{{ showDefinition ? currentCard.definition : currentCard.begriff }}</p>   -->
          Karteikarte Beispiel
        </div>

        <div class="ErledigtButton" @click="markAsErledigt">ðŸŸ©</div>
        <div class="ErledigtCounter">{{ countErledigt }} Zahl</div>
      </div>

      <div class="Count"> Anzeige Beispiel {{ currentCountAnzahl }} / {{ countAnzahl }} Anzeige Beispiel</div>

    </div>  

  </div>


<!-- HTML Teil Ende -->




<script>
  const { createApp } = Vue // Muss sein um Vue zu verwenden, erstellt vue app
  const API_BASE_URL = 'http://127.0.0.1:5000';
  createApp({
    data() { // Data -> Beschreibt die dynamischen Informationen, unserer App
      return {
        new_element_text: '',
        items:[],

        countErledigt: 0,
        countNichtErledigt: 0,

        currentCountAnzahl: 1,
        countAnzahl: 10,

      }
    },

    methods: {
// Florian & Nicola      
      flipCard() {
        this.showDefinition = !this.showDefinition;
      },

      markAsErledigt() {
        if (this.currentCountAnzahl < this.countAnzahl) {
        this.countErledigt += 1;
        this.currentCountAnzahl += 1;
        }
      },

      markAsNichtErledigt() {
        if (this.currentCountAnzahl < this.countAnzahl) {
        this.countNichtErledigt += 1;
        this.currentCountAnzahl += 1;
        }
      },
      
      returnToMenu() {
        window.location.href = "input.html";  // Gleicher Effekt wie Klick auf Zahnrad
      },

      handleKeyPress(event) {
      if (event.key === 'ArrowLeft') {
        this.markAsNichtErledigt();
      } else if (event.key === 'ArrowRight') {
        this.markAsErledigt();
      } else if (event.key === 'ArrowUp' || event.code === 'Space') {
        event.preventDefault(); // Verhindert Scrollen bei Space
        this.flipCard();
      } else if (event.key === 'Escape') {
        this.returnToMenu();
      }
    },
//bis hier
//    h   async fetchItems() {
 //       try {
//            const response = await fetch(`${API_BASE_URL}/api/items`, {
//            method: 'GET',
//            headers: {
//              'Accept': 'application/json',
//              'Access-Control-Allow-Origin':'*',
//              }
//                })
//            this.items = await response.json()
//            console.log(this.items)
//            } catch (error) {
//            console.error('Error fetching items:', error)
//            }
//        },
//        async alsErledigtMarkieren(item){
//         item.erledigt=true
//          try {
//            const response = await fetch(`${API_BASE_URL}/api/items/${item.id}`, {
//            method: 'Put',
//            headers: {
//              'Accept': 'application/json',
//              'Access-Control-Allow-Origin':'*',
//              body: json.stringify(item)
//              }
//                })
//            const result=await response.json()
//            this.items=result.items
          
//            } catch (error) {
//           console.error('Error fetching items:', error)
//            }
      },
      
      loadSet() {
        pass
      },

    mounted() {
      window.addEventListener('keydown', this.handleKeyPress);
    },

    beforeUnmount() {
      window.removeEventListener('keydown', this.handleKeyPress);
    }, 
    },
    
  ).mount('#app')
</script>
